(this["webpackJsonpmessage-frontend"]=this["webpackJsonpmessage-frontend"]||[]).push([[0],{152:function(e,t,n){},247:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),r=n(27),s=n.n(r),a=n(12),i=n(24),l=n(23),d=n(143),u=n(92),j=n(145),b=n(70),h=n.p+"static/media/iconwhite.e34491a5.png",g="data:image/png;base64,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",x=n(30),p=n(2),f=n.n(p),O=n(6),m=n(154),w=n(47),v=n(25),y=n(86),C=n(155),S=n.n(C),k=n(156),I=n.n(k),A=n(157),B=n.n(A),R=n(43),M=n.n(R),U=null,F=function(){var e=Object(O.a)(f.a.mark((function e(t){var n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.databaseKey,c=t.sessionID,console.log(n,c),console.log("https://api.seald.io/"),console.log("https://ssks.seald.io/"),U=S()({appId:M.a.get("appId"),databaseKey:n,databasePath:"seald-seacure-message-hub-".concat(c),plugins:[I()(),B()()]}),e.next=7,U.initialize();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(O.a)(f.a.mark((function e(t){var n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.databaseKey,c=t.sessionID,e.next=3,F({databaseKey:n,sessionID:c});case 3:return e.next=5,U.registrationStatus();case 5:if("registered"===e.sent){e.next=8;break}throw new Error("Not registered");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(O.a)(f.a.mark((function e(t){var n,c,o,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,c=t.userLicenseToken,o=t.databaseKey,r=t.sessionID,t.jwt,e.next=3,F({databaseKey:o,sessionID:r});case 3:return e.next=5,U.initiateIdentity({userId:n,userLicenseToken:c});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(O.a)(f.a.mark((function e(t){var n,c,o,r,s,a,i,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,c=t.twoManRuleKey,o=t.emailAddress,r=t.twoManRuleSessionId,s=t.challenge,a=void 0!==s&&s,i=t.databaseKey,l=t.sessionID,e.next=3,F({databaseKey:i,sessionID:l});case 3:if(console.log(r),a){e.next=9;break}return e.next=7,U.ssks2MR.saveIdentity({authFactor:{type:"EM",value:o},twoManRuleKey:c,userId:n,sessionId:r});case 7:e.next=11;break;case 9:return e.next=11,U.ssks2MR.saveIdentity({challenge:a,authFactor:{type:"EM",value:o},twoManRuleKey:c,userId:n,sessionId:r});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(O.a)(f.a.mark((function e(t){var n,c,o,r,s,a,i,l,d,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,c=t.databaseKey,o=t.sessionID,r=t.emailAddress,s=t.twoManRuleKey,a=t.twoManRuleSessionId,i=t.challenge,l=void 0===i?null:i,d=t.password,u=void 0!==d&&d,console.log(r),console.log(s),e.next=5,F({databaseKey:c,sessionID:o});case 5:if(u){e.next=10;break}return e.next=8,U.ssks2MR.retrieveIdentity({challenge:l,authFactor:{type:"EM",value:r},twoManRuleKey:s,userId:n,sessionId:a});case 8:e.next=14;break;case 10:return e.next=12,U.ssksPassword.retrieveIdentity({userId:n,password:u});case 12:return e.next=14,U.ssks2MR.saveIdentity({challenge:l,authFactor:{type:"EM",value:r},twoManRuleKey:s,userId:n,sessionId:a});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){return U},H=n(29),E=n.n(H),T=Object(m.a)({apiKey:"AIzaSyAhgO18_s_1za7LcVyQDnH3QbAL5L1-dDI",authDomain:"any-time-message.firebaseapp.com",databaseURL:"https://any-time-message-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"any-time-message",storageBucket:"any-time-message.appspot.com",messagingSenderId:"639372300514",appId:"1:639372300514:web:be920c413b34ee95758ebb"}),N=Object(x.d)(T),K=Object(w.c)(T),V=Object(v.b)(T),q=Object(y.a)(T);Object(x.e)(N,function(){var e=Object(O.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t||localStorage.setItem("login",!1);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var X=n(33),J=n(38),Q=n(75),Z="data:image/png;base64,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",Y=n(80),G=n.p+"static/media/androidDark.aaf5890c.png",_=n.p+"static/media/androidLight.a0681680.png",$=n.p+"static/media/iphoneDark.2545b908.png",ee=n.p+"static/media/iphoneLight.160574ef.png";function te(){var e=Object(Y.c)(),t=e.colorMode,n=e.toggleColorMode;return{config:{navBg:"light"===t?"#05c2c8":"#19263a",scrollTrack:"light"===t?"white":"#19263a",scrollTrackThumb:"light"===t?"#05c2c8":"#295599",hHeadermd:"light"===t?"white":"#19263a",contactBg:"light"===t?"#d8c9e3":"#19263a",IconColor:"light"===t?"#718096":"#E2E8F0",border:"light"===t?"1px solid #05c2c8 ":"1px solid #0e2e5e",inBorder:"light"===t?"black":"white",borderRn:"light"===t?"1px solid #70ccf6":"1px solid #0e2e5e",ContactBorder:"light"===t?"1px solid rgba(32,32,23,0.23)":"2px solid #0e2e5e",mesBg:"light"===t?"#bceef7":"#1a202c",chatL:"light"===t?"#f0d1d1":"#2c313d",chatR:"light"===t?"#a2d7fc":"#455ba2",inputBg:"light"===t?"white":"#02122a",hColormd:"light"===t?"#1c1e21":"white",emoPic:"light"===t?"light":"dark",Icon:"light"===t?J.b:J.d,img:"light"===t?_:G,imgIphone:"light"===t?ee:$},toggleColor:function(){n(),document.getElementById("statusbar").content="light"===t?"#05c2c8":"#19263a"}}}var ne=n(3);var ce=function(e){var t=te(),n=t.config,o=t.toggleColor,r=Object(l.h)(),s=Object(c.useState)(!0),p=Object(a.a)(s,2),f=p[0],O=p[1],m=Object(Q.b)(),w=m.pwaInstall,v=m.supported,y=m.isInstalled,C=Object(c.useState)(localStorage.getItem("user")||N.currentUser),S=Object(a.a)(C,2),k=S[0],I=S[1],A=Object(c.useState)(!1),B=Object(a.a)(A,2),R=B[0],M=B[1];Object(c.useEffect)((function(){Object(x.e)(N,(function(e){I(!!e)}))}),[]);var U=function(){M(!R)};return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(d.a,{position:{md:"sticky",sm:"relative"},boxSizing:"content-box",h:{"3xl":"8vh",sm:"10vh"},pb:{sm:"61px",md:"0"},d:"flex",flexDirection:"row",backgroundColor:n.navBg,minW:"100%",justifyContent:"center",alignItems:"center",zIndex:1,borderBottom:{md:n.border},children:Object(ne.jsxs)(d.a,{d:"flex",pl:{md:"1.2rem",sm:"0.5rem"},pr:{md:"2rem",sm:"0.5rem"},maxW:{md:"1050px",sm:"100%",lg:"80vw"},flexDirection:"row",color:"white",lineHeight:"26px",width:{md:"100%",sm:"90%"},alignItems:"center",justifyContent:{md:"space-between",sm:"flex-end"},children:[Object(ne.jsxs)(d.a,{d:"flex",width:"100%",alignItems:"center",children:[Object(ne.jsx)(d.a,{w:{md:"210px"},d:{lg:"block",sm:"none"},children:Object(ne.jsx)(d.e,{as:i.b,to:"/",children:Object(ne.jsx)(u.a,{src:h,alt:"Brand Logo",h:{md:"55px"},w:{md:"100%"}})})}),Object(ne.jsx)(d.a,{d:{lg:"none",sm:"block"},position:{md:"sticky",sm:f?"absolute":"sticky"},left:{sm:"50%",md:"unset"},top:{sm:"64px",md:"unset"},transform:{sm:f?"translateX(-50%)":"none",md:"unset"},children:Object(ne.jsx)(d.e,{as:i.b,to:"/",children:Object(ne.jsx)(u.a,{src:g,alt:"Brand Logo",w:"auto",h:{md:"50px",sm:f?"77px":"40px"}})})})]}),Object(ne.jsxs)(d.a,{d:"flex",minW:{md:"90%"},flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:[Object(ne.jsxs)(d.a,{d:{md:"flex",sm:"none"},alignItems:"center",justifyContent:"space-evenly",flexGrow:"1",children:[Object(ne.jsx)(d.e,{as:i.b,to:"/web",children:"CHATS"}),Object(ne.jsx)(d.e,{as:i.b,to:"/features",children:"FEATURES"}),v()&&!y()&&Object(ne.jsx)(j.a,{colorScheme:"transparent",onClick:function(){w({title:"Install Message Hub ",logo:Z,description:"Simple. Secure. Reliable messaging. With Message Hub, you'll get fast, simple, secure messaging for free*, available on the web all over the world."}).catch((function(){console.log("Install cancelled")}))},fontWeight:"500",type:"link",variant:"ghost",children:"DOWNLOAD"}),Object(ne.jsx)(d.e,{as:i.b,to:"/security",children:"SECURITY"}),Object(ne.jsx)(d.e,{as:i.b,to:"/help-center",children:"HELP CENTER"})]}),Object(ne.jsx)(j.a,{d:{sm:"none",md:"inline-block"},colorScheme:"transparent",variant:"ghost",onClick:o,children:Object(ne.jsx)(b.a,{style:{padding:"0 4px",fontSize:"28",fontWeight:"bold"},color:n.IconColor,as:n.Icon})}),Object(ne.jsx)(j.a,{d:{sm:"none",md:"inline-block"},colorScheme:"transparent",onClick:k?function(){Object(x.h)(N).then((function(){I(!1),E.a.post("/session/logout",{reqest:"logout"},{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e),localStorage.removeItem("user"),r("/auth/login")}))}))}:function(){r("/auth/login")},variant:"ghost",children:Object(ne.jsx)(b.a,{style:{padding:"0 4px",fontSize:"28",fontWeight:"bold"},as:k?X.i:X.h})}),Object(ne.jsxs)(d.a,{fontSize:25,fontWeight:500,lineHeight:"120%",h:"fit-content",d:{md:"none"},children:[Object(ne.jsx)(j.a,{cursor:"pointer",colorScheme:"transparent",variant:"ghost",onClick:U,h:"40px",w:"40px",children:Object(ne.jsx)(b.a,{h:"30px",w:"30px",lineHeight:"120%",fontWeight:"700",fontSize:"16px",as:J.i})}),Object(ne.jsxs)(d.a,{py:"56px",position:"fixed",right:R?"0":"-100%",zIndex:3,boxSizing:"border-box",backgroundColor:n.navBg,h:"100%",top:"0",w:"100%",overflowX:"hidden",overflowY:"auto",transition:"right 0.4s ease-in-out",children:[Object(ne.jsx)(u.a,{cursor:"pointer",src:g,alt:"Brand Logo",h:"40px",left:"24px",position:"absolute",w:"40px",top:"24px"}),Object(ne.jsx)(j.a,{cursor:"pointer",colorScheme:"transparent",variant:"ghost",h:"36px",right:"24px",position:"absolute",w:"36px",top:"24px",onClick:U,lineHeight:"120%",fontWeight:"500",fontSize:"16pc",children:Object(ne.jsx)(b.a,{h:"30px",w:"30px",lineHeight:"120%",fontWeight:"700",fontSize:"16px",as:J.a})}),Object(ne.jsxs)(d.f,{color:"white",fontSize:"16px",lineHeight:"26px",fontWeight:"400",pt:"32px",my:"0",mx:"auto",w:"80%",children:[Object(ne.jsx)(d.a,{onClick:U,borderBottom:"1px solid #48eaef",m:0,py:"16px",children:Object(ne.jsx)(d.e,{as:i.b,to:"/web",children:"CHATS"})}),Object(ne.jsx)(d.a,{onClick:U,borderBottom:"1px solid #48eaef",m:0,py:"16px",children:Object(ne.jsx)(d.e,{as:i.b,to:"/features",children:"FEATURES"})}),Object(ne.jsx)(d.a,{onClick:U,borderBottom:"1px solid #48eaef",m:0,py:"16px",children:Object(ne.jsx)(d.e,{as:i.b,to:"/security",children:"SECURITY"})}),Object(ne.jsx)(d.a,{onClick:U,borderBottom:"1px solid #48eaef",m:0,py:"16px",children:Object(ne.jsx)(d.e,{as:i.b,to:"/help-center",children:"HELP CENTER"})}),Object(ne.jsx)(d.a,{m:0,py:"16px",borderBottom:"1px solid #48eaef",children:Object(ne.jsx)(d.a,{variant:"ghost",onClick:o,children:Object(ne.jsx)(b.a,{style:{padding:"0 4px",fontSize:"28",fontWeight:"bold"},color:n.IconColor,as:n.Icon})})}),Object(ne.jsx)(d.a,{m:0,py:"16px",children:Object(ne.jsx)(d.a,{onClick:k?function(){Object(x.h)(N).then((function(){I(!1),E.a.post("/session/logout",{reqest:"logout"},{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e),localStorage.removeItem("user"),r("/auth/login"),U()}))}))}:function(){r("/auth/login"),U()},variant:"ghost",children:Object(ne.jsx)(b.a,{style:{padding:"0 4px",fontSize:"28",fontWeight:"bold"},as:k?X.i:X.h})})})]})]})]})]})]})}),Object(ne.jsx)(d.a,{overflowY:"auto",overscrollBehaviorY:"contain",css:{"&::-webkit-scrollbar":{width:"10px"},"&::-webkit-scrollbar-track":{width:"14px",backgroundColor:n.scrollTrack},"&::-webkit-scrollbar-thumb":{backgroundColor:n.scrollTrackThumb,borderRadius:"34px"}},h:{sm:"90vh","3xl":"92vh"},children:Object(ne.jsx)(l.b,{context:[f,O]})})]})},oe=n(57);function re(){var e=te().config,t=Object(Q.b)(),n=t.pwaInstall,c=t.supported,o=t.isInstalled,r=function(){n({title:"Install Message Hub ",logo:Z,description:"Simple. Secure. Reliable messaging. With Message Hub, you'll get fast, simple, secure messaging for free*, available on the web all over the world."}).catch((function(){console.log("Install cancelled")}))};return Object(ne.jsx)(d.a,{h:"100vh",children:Object(ne.jsx)(d.a,{color:{md:"black"},children:Object(ne.jsx)(d.a,{pb:{md:"56px",sm:"0px"},color:{sm:"#fff",md:e.hColormd},backgroundColor:{sm:e.navBg,md:e.hHeadermd},pt:"56px",textAlign:{md:"left",sm:"center"},h:"fit-content",minHeight:"100vh",children:Object(ne.jsx)(d.a,{mx:"auto",width:"100%",h:"100%",maxW:{xl:"788px",sm:"80%"},children:Object(ne.jsxs)(d.a,{flexDirection:{md:"row",sm:"column"},d:"flex",justifyContent:"space-between",textAlign:{md:"left",sm:"center"},children:[Object(ne.jsx)(d.a,{d:"flex",alignItems:"center",flexWrap:"wrap",width:{md:"50%",sm:"100%"},children:Object(ne.jsxs)(d.a,{children:[Object(ne.jsxs)(d.a,{maxW:"100%",pb:{sm:"16px",md:"32px"},children:[Object(ne.jsxs)(d.a,{fontSize:{md:"33px",sm:"24px"},lineHeight:{md:"43px",sm:"31px"},pb:{md:"16px",sm:"8px"},children:[Object(ne.jsx)("h2",{children:"Simple. Secure. "}),Object(ne.jsx)("h2",{children:" Reliable messaging."})]}),Object(ne.jsxs)(d.g,{fontSize:{md:"18px",sm:"16px"},lineHeight:"26px",my:"1em",children:["With MessageHub, you'll get fast, simple, secure messaging for"," ",Object(ne.jsxs)("span",{children:["free",Object(ne.jsx)("sup",{children:"*"}),","]})," ","available on phones all over the world."]}),Object(ne.jsxs)(d.g,{fontSize:"16px",d:{md:"block",sm:"none"},lineHeight:"21px",color:"#5e5e5e",children:[Object(ne.jsx)("sup",{children:"*"})," Data charges may apply. Contact your provider for details."]})]}),Object(ne.jsxs)(d.a,{fontWeight:400,children:[c()&&!o()&&Object(ne.jsx)(d.e,{borderRadius:40,onClick:r,lineHeight:"120%",mb:"40px",p:"1rem 2rem",fontSize:"16px",cursor:"pointer",variant:"solid",backgroundColor:"#0d999d",color:"white",d:{sm:"inline-block",md:"none"},children:"DOWNLOAD NOW"}),c()&&!o()&&Object(ne.jsxs)(d.f,{d:{sm:"none",md:"flex"},color:{md:"#1CB39B"},fontSize:{md:"18px"},lineHeight:{md:"26px"},children:[Object(ne.jsxs)(d.a,{pb:{md:"1rem"},m:0,children:[" ",Object(ne.jsxs)(d.e,{onClick:r,d:"inline-flex",as:i.b,alignItems:"center",justifyContent:"center",flexDirection:"row",to:"",children:[Object(ne.jsx)(b.a,{mr:"1rem",as:X.a})," Android"," ",Object(ne.jsx)(b.a,{mx:"0.5rem",as:oe.a})," "]})]}),Object(ne.jsx)(d.a,{pb:{md:"1rem"},m:0,children:Object(ne.jsxs)(d.e,{onClick:r,d:"inline-flex",as:i.b,alignItems:"center",flexDirection:"row",to:"",children:[Object(ne.jsx)(b.a,{mr:"1rem",as:X.b}),"iPhone",Object(ne.jsx)(b.a,{mx:"0.5rem",as:oe.a})," "]})}),Object(ne.jsx)(d.a,{pb:{md:"1rem"},m:0,children:Object(ne.jsxs)(d.e,{onClick:r,d:"inline-flex",alignItems:"center",justifyContent:"center",flexDirection:"row",as:i.b,to:"",children:[Object(ne.jsx)(b.a,{mr:"1rem",as:J.f}),"Mac or Windows PC"," ",Object(ne.jsx)(b.a,{mx:"0.5rem",as:oe.a})," "]})})]})]})]})}),Object(ne.jsx)(d.a,{d:"flex",wrap:"wrap",width:{md:"40.66%",sm:"100%"},alignItems:"center",children:Object(ne.jsxs)(d.a,{h:"auto",mx:"auto",maxWidth:304,children:[Object(ne.jsx)(u.a,{d:{md:"block",sm:"none"},maxW:"100%",src:e.imgIphone,alt:"Phone Image"}),Object(ne.jsx)(u.a,{d:{md:"none"},maxW:"100%",src:e.imgIphone,alt:"Phone Image"})]})})]})})})})})}function se(){return Object(ne.jsx)(ne.Fragment,{children:Object(ne.jsx)(re,{})})}var ae=n(32),ie=n(146);function le(e){var t=te().config;return Object(ne.jsxs)(d.a,{h:"80px",onClick:e.onClick,cursor:"pointer",d:"flex",backgroundColor:t.contactBg,children:[Object(ne.jsx)(ie.a,{my:3,mx:2,name:e.name,cursor:"pointer",size:"lg",src:e.photoURL}),Object(ne.jsxs)(d.a,{mt:e.message?4:"12px",flexDirection:"column",d:"flex",width:"90%",h:"80%",justifyContent:e.message?"normal":"center",style:{borderBottom:t.ContactBorder},children:[Object(ne.jsx)(d.a,{children:Object(ne.jsx)(d.g,{fontWeight:"bold",fontSize:e.message?"20px":"24px",lineHeight:"30px",width:"85%",children:e.name||e.Number})}),Object(ne.jsx)(d.a,{d:e.message?"block":"none",h:23,style:{overflow:"hidden"},children:Object(ne.jsx)(d.g,{style:{color:"grey",width:"85%"},children:e.message||""})})]})]})}var de=n(147);function ue(){var e=te();return Object(ne.jsxs)(d.a,{h:"80px",backgroundColor:e.contactBg,cursor:"pointer",d:"flex",children:[Object(ne.jsx)(de.a,{my:3,mx:2,startColor:"#a59a9a",endColor:"#83d8d8",cursor:"pointer",size:"16"}),Object(ne.jsx)(d.a,{mt:4,width:"90%",h:"80%",borderBottom:"1px solid rgba(32,32,23,0.23)",children:Object(ne.jsx)(de.b,{startColor:"#a59a9a",endColor:"#83d8d8",noOfLines:2,mr:2,spacing:"4"})})]})}function je(e){var t=Object(c.useState)(),n=Object(a.a)(t,2),o=n[0],r=n[1],s=Object(c.useState)(!0),i=Object(a.a)(s,2),l=i[0],u=i[1],j=te().config;return Object(c.useEffect)((function(){Object(v.e)(Object(v.g)(Object(v.h)(V,"".concat(N.currentUser.uid,"/contacts")),Object(v.f)("name")),(function(e){var t=[];if(e.hasChildren()){var n=0;e.forEach((function(c){Object(v.e)(Object(v.h)(V,"".concat(c.val().uid,"/PersonalInfo")),(function(c){t.push({name:c.val().name,uid:c.val().uid,photoURL:c.val().photoURL}),++n===e.size&&r(t)}),{onlyOnce:!0})}))}else u(!1)}))}),[]),Object(ne.jsxs)(d.a,{children:[Object(ne.jsxs)(d.a,{boxSizing:"content-box",pb:{md:"5px"},d:"flex",alignItems:"center",backgroundColor:j.navBg,borderBottom:j.borderRn,justifyContent:"space-between",h:{md:"7vh",sm:"9vh",lg:"8vh"},children:[Object(ne.jsxs)(d.a,{h:"100%",alignItems:"center",d:"flex",children:[Object(ne.jsx)(b.a,{color:"white",fontSize:28,cursor:"pointer",mr:2,onClick:e.popupContactList,as:oe.b}),Object(ne.jsx)(d.g,{color:"white",cursor:"pointer",fontWeight:800,fontSize:28,children:"New Chat"})]}),Object(ne.jsx)(b.a,{color:"white",cursor:"pointer",mr:3,onClick:function(){e.popup(),e.popupContactList()},fontSize:28,as:e.po?X.f:X.j})]}),o?o.map((function(t,n){return Object(c.createElement)(le,Object(ae.a)(Object(ae.a)({onClick:function(){e.setMnav({src:t.photoURL,name:t.name}),e.setUid(t.uid),e.setWidth("0%"),e.setXwidth("100%")}},t),{},{key:n}))})):Object(ne.jsx)(d.a,{d:"flex",h:"80vh",w:"100%",justifyContent:"center",alignItems:"center",children:l?Object(ne.jsxs)(d.a,{children:[Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{})]}):Object(ne.jsx)(d.g,{textAlign:"center",fontSize:26,fontWeight:600,color:"#137284",children:"No Contact's Add Contact to Message."})})]})}var be=n(93),he=n(150),ge=n(149),xe=n(163),pe=n(103),fe=(n(245),n(162)),Oe=n.n(fe),me=function(e){var t=parseInt(e,10),n=Math.floor(t/3600),c=Math.floor((t-3600*n)/60),o=t-3600*n-60*c;return o<10&&(o="0"+o),(0===n?"":n+":")+c+":"+o};function we(e){var t=Object(c.useState)(0),n=Object(a.a)(t,2),o=n[0],r=n[1],s=Object(c.useState)(!0),i=Object(a.a)(s,2),l=i[0],u=i[1],j=Object(c.useState)(!1),h=Object(a.a)(j,2),g=h[0],x=h[1],p=Object(c.useState)(!1),f=Object(a.a)(p,2),O=f[0],m=f[1],v=Object(c.useMemo)((function(){return new Audio}),[]),y=Object(c.useState)("0:00"),C=Object(a.a)(y,2),S=C[0],k=C[1],I=Object(c.useState)("0:00"),A=Object(a.a)(I,2),B=A[0],R=A[1],M=Object(w.d)(K,e.url),U=e.Session;return Object(c.useEffect)((function(){v.ontimeupdate=function(){r(v.currentTime/v.duration*100),v.currentTime===v.duration&&u(!0),R(me(v.currentTime)),k(me(v.duration))}}),[v]),Object(c.useEffect)((function(){k(me(v.duration))}),[v.src,v.duration]),Object(ne.jsxs)(d.a,{d:"flex",justifyContent:"center",alignItems:"center",w:"18rem",maxW:"100%",children:[Object(ne.jsx)(b.a,{as:g?l?oe.d:oe.c:O?be.a:J.c,w:8,onClick:g?function(){v.paused?(v.play(),u(!1)):(v.pause(),u(!0))}:function(){m(!0),Object(w.a)(M).then((function(e){U.decryptFile(e).then((function(e){var t=new Blob([e.data],{type:"audio/mp3"}),n=URL.createObjectURL(t);v.src=n,x(!0),m(!1),setTimeout((function(){k(me(v.duration))}),1e3)}))})).catch((function(e){console.log(e.code)}))},cursor:"pointer",h:8,color:"rgba(150,150,150,1)",_hover:{color:"green"},mr:"0.7rem"}),Object(ne.jsxs)(d.a,{w:"70%",children:[Object(ne.jsxs)(ge.a,{value:o,onChange:function(e){r(e),v.currentTime=v.duration*(+e/100),v.paused&&(v.play(),u(!1))},"aria-label":"slider-ex-2",w:"100%",colorScheme:"pink",defaultValue:0,children:[Object(ne.jsx)(ge.d,{children:Object(ne.jsx)(ge.b,{})}),Object(ne.jsx)(ge.c,{zIndex:"0"})]}),Object(ne.jsx)(d.g,{fontSize:"9px",children:g?B+"/"+S:""})]})]})}function ve(e){var t=Object(c.useState)(null),n=Object(a.a)(t,2),o=n[0],r=n[1],s=e.session;return Object(c.useEffect)((function(){s?s.decryptMessage(e.message).then((function(e){r(e)})):r(e.message)}),[e.message,s]),Object(ne.jsx)(d.g,{children:o||Object(ne.jsx)(de.b,{startColor:"#a59a9a",endColor:"#83d8d8",noOfLines:2,mr:2,spacing:"4"})})}function ye(e){var t=te().config,n=Object(c.useState)(!1),o=Object(a.a)(n,2),r=o[0],s=o[1],i=Object(c.useState)(!0),l=Object(a.a)(i,2),u=l[0],h=l[1],g=Object(c.useState)(),x=Object(a.a)(g,2),p=x[0],m=x[1],y=Object(c.useState)(!1),C=Object(a.a)(y,2),S=C[0],k=C[1],I=Object(c.useState)(""),A=Object(a.a)(I,2),B=A[0],R=A[1],M=Object(c.useState)("-100%"),U=Object(a.a)(M,2),F=U[0],D=U[1],W=Object(c.useState)(!1),L=Object(a.a)(W,2),z=L[0],H=L[1],T=Object(c.useRef)(),q=Object(c.useRef)(null),X=Object(c.useState)(0),Q=Object(a.a)(X,2),Z=Q[0],Y=Q[1],G=Object(c.useState)(!1),_=Object(a.a)(G,2),$=_[0],ee=_[1],ce=Object(c.useState)(null),oe=Object(a.a)(ce,2),re=oe[0],se=oe[1],ie=Object(c.useState)(!0),le=Object(a.a)(ie,2),de=le[0],ue=le[1],je=Object(c.useState)(!1),fe=Object(a.a)(je,2),me=fe[0],ye=fe[1],Ce=Object(c.useMemo)((function(){return new Oe.a({bitRate:128})}),[]),Se=Object(c.useMemo)((function(){return new Audio}),[]),ke=function(){var t;(""!==B||$)&&(null===(t=T.current)||void 0===t||t.focus(),k(!0),Object(v.a)(Object(v.h)(V,"".concat(N.currentUser.uid,"/chats/").concat(e.uid,"/sessionId"))).then((function(t){t.val()?P().retrieveEncryptionSession({sessionId:t.val()}).then((function(t){""!==B?t.encryptMessage(B).then((function(t){E.a.post("/sendmessage",{message:t,Recipetuid:e.uid,uid:N.currentUser.uid},{headers:{authorization:N.currentUser.accessToken,"Content-Type":"application/json"}}).then((function(e){201===e.status&&(k(!1),me&&ye(!1))})).catch((function(e){k(!1)}))})):$&&t.encryptFile(re,"file.mp3").then((function(t){var n="Audio/".concat(N.currentUser.uid,"/send/").concat(Date.now(),".mp3"),c=Object(w.d)(K,n);Object(w.e)(c,t,{contentType:"audio/mp3"}).then((function(t){console.log("uploaded ......"),E.a.post("/sendmessage",{url:"".concat(n),Recipetuid:e.uid,uid:N.currentUser.uid},{headers:{authorization:N.currentUser.accessToken,"Content-Type":"application/json"}}),se(null),ee(!1),URL.revokeObjectURL(Se.src),k(!1)})).catch((function(e){console.log(e),k(!1)}))}))})):P().createEncryptionSession({userIds:[e.uid]}).then((function(t){""!==B?t.encryptMessage(B).then((function(n){E.a.post("/sendmessage",{message:n,Recipetuid:e.uid,uid:N.currentUser.uid,sessionId:t.sessionId},{headers:{authorization:N.currentUser.accessToken,"Content-Type":"application/json"}}).then((function(e){201===e.status&&k(!1)})).catch((function(e){k(!1)}))})):$&&t.encryptFile(re,"file.mp3").then((function(n){var c="Audio/".concat(N.currentUser.uid,"/send/").concat(Date.now(),".mp3"),o=Object(w.d)(K,c);Object(w.e)(o,n).then((function(n){console.log("uploaded ......"),E.a.post("/sendmessage",{url:"".concat(c),Recipetuid:e.uid,uid:N.currentUser.uid,sessionId:t.sessionId},{headers:{authorization:N.currentUser.accessToken,"Content-Type":"application/json"}}),se(null),ee(!1),URL.revokeObjectURL(Se.src),k(!1)})).catch((function(e){console.log(e),k(!1)}))}))}))})).catch((function(e){console.log(e)})),R(""),h(!0))},Ie=Object(c.useRef)(null);return Object(c.useEffect)((function(){!function(){var e;null===(e=Ie.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()}),[p]),Object(c.useEffect)((function(){var e;null===(e=q.current)||void 0===e||e.addEventListener("emoji-click",(function(e){T.current.focus(),R(B+e.detail.unicode),h(!1)}))}),[q,r,B]),Object(c.useEffect)((function(){var t=Object(v.h)(V,"".concat(N.currentUser.uid,"/chats/").concat(e.uid,"/messages"));return ue(!0),m(!1),Object(v.e)(t,(function(t){if(console.log(t),t.hasChildren()){var n=[],c=0;Object(v.a)(Object(v.h)(V,"".concat(N.currentUser.uid,"/chats/").concat(e.uid,"/sessionId"))).then(function(){var e=Object(O.a)(f.a.mark((function e(o){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P().retrieveEncryptionSession({sessionId:o.val()});case 2:r=e.sent,t.forEach((function(e){"audio"===e.val().type&&e.val().type?"audio"===e.val().type&&(n.push({url:e.val().url||"noURL",send:e.val().send,type:e.val().type,session:r}),++c===t.size&&m(n)):(n.push({message:e.val().message||"Deleted Message",send:e.val().send,type:e.val().type||"text",session:r}),++c===t.size&&m(n))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}else ue(!1),ye(!0)})),function(){Object(v.d)(t)}}),[e.uid,me]),Object(ne.jsxs)(d.a,{h:"100%",flexDirection:"column",overscrollBehaviorY:"contain",d:"flex",children:[Object(ne.jsxs)(d.a,{overflowY:"scroll",overscrollBehaviorY:"contain",css:{"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{width:"6px",backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#e5ebef",borderRadius:"34px"}},backgroundColor:t.mesBg,h:"100%",children:[Object(ne.jsx)(d.a,{minH:8,h:"fit-content",m:5,mb:"10px",d:"flex",justifyContent:"center",children:Object(ne.jsx)(d.a,{borderRadius:5,color:"white",d:"felx",justifyContent:"center",alignItems:"center",backgroundColor:"yellow.500",flexDirection:"row",p:2,minW:6,minH:8,h:"fit-content",w:"fit-content",textAlign:"center",children:Object(ne.jsxs)(d.g,{children:[Object(ne.jsx)(b.a,{color:"white",as:pe.a})," Messages are end-to-end encrypted. No one outside of this chat, not even We , can read or listen to them"," "]})})}),p?null===p||void 0===p?void 0:p.map((function(e,n){return Object(ne.jsx)(ne.Fragment,{children:Object(ne.jsx)(d.a,{minH:8,m:5,d:"flex",justifyContent:e.send?"flex-end":void 0===e.send?"center":"flex-start",h:"fit-content",children:Object(ne.jsxs)(d.a,{borderRadius:5,d:"felx",justifyContent:"center",alignItems:"center",backgroundColor:e.send?t.chatL:t.chatR,flexDirection:"row",p:2,minW:6,minH:5,w:"fit-content",h:"fit-content",maxW:"70%",whiteSpace:"pre-line",children:[" ","text"===e.type?Object(ne.jsx)(ve,Object(ae.a)({},e)):Object(ne.jsx)(we,{url:e.url,Session:e.session,send:e.send,type:e.type},n)]})},n)})})):Object(ne.jsx)(ne.Fragment,{children:Object(ne.jsx)(d.a,{h:"100%",d:"flex",alignItems:"center",justifyContent:"center",children:Object(ne.jsx)(d.a,{minH:8,h:"fit-content",m:5,mb:40,d:"flex",justifyContent:"center",children:Object(ne.jsx)(d.a,{borderRadius:5,color:"white",d:"felx",justifyContent:"center",alignItems:"center",backgroundColor:de?"transparent":"red.500",flexDirection:"row",p:2,minW:6,w:"fit-content",textAlign:"center",children:de?Object(ne.jsx)(be.a,{size:"xl",color:"red.500"}):Object(ne.jsx)(d.g,{children:"No Messages Start Chating Now"})})})})}),Object(ne.jsx)(d.a,{ref:Ie})]}),r&&Object(ne.jsx)(d.a,{w:{md:"60%",sm:"100%",lg:"70%"},position:"absolute",h:"300px",bottom:F,transition:"all 0.8s ease-in-out",children:Object(ne.jsx)("emoji-picker",{ref:q,class:t.emoPic,style:{height:"100%",width:"100%",zIndex:"100"}})}),Object(ne.jsxs)(d.a,{borderLeft:"1px solid gray",backgroundColor:t.inputBg,alignItems:"center",h:"60px",d:"flex",flexDirection:"row",children:[Object(ne.jsx)(b.a,{w:8,cursor:"pointer",h:8,color:"rgba(150,150,150,1)",as:xe.a,_hover:{color:"green"}}),Object(ne.jsx)(b.a,{w:8,h:8,color:"rgba(100,100,100,0.3)",onClick:function(){T.current.focus(),s(!r),D("-100%"===F?"55px":"-100%")},cursor:"pointer",as:J.h,_hover:{color:"yellow"}}),Object(ne.jsx)(d.a,{h:10,d:"flex",borderRadius:40,alignItems:"center",justifyContent:"center",overflowY:"hidden",w:"100%",children:$?Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(b.a,{as:J.g,onClick:function(){ee(!1),URL.revokeObjectURL(Se.src),se(null)},mr:"0.7rem",w:6,h:7,cursor:"pointer",_hover:{color:"red.600"},color:"red.300"}),Object(ne.jsxs)(ge.a,{value:Z,onChange:function(e){Y(e),Se.currentTime=Se.duration*(+e/100),Se.paused&&Se.play()},"aria-label":"slider-ex-2",w:{sm:"70%",xl:"88%",md:"83%"},colorScheme:"pink",defaultValue:0,children:[Object(ne.jsx)(ge.d,{children:Object(ne.jsx)(ge.b,{})}),Object(ne.jsx)(ge.c,{})]})]}):Object(ne.jsx)(he.a,{onChange:function(e){R(e.target.value),""===e.target.value?h(!0):h(!1)},onKeyDown:function(e){10!==e.keyCode&&13!==e.keyCode||!e.ctrlKey||ke()},isDisabled:!e.uid,backgroundColor:"rgba(100,100,100,0.3)",resize:"none",placeholder:"Type Message",pt:6,style:{border:"1px solid white",width:"100%"},align:"center",value:B,ref:T,css:{"&::-webkit-scrollbar":{display:"none"},height:"10px"}})}),Object(ne.jsx)(j.a,{type:u?$?"submit":"button":"submit",isLoading:S,isDisabled:!e.uid,onClick:u?$?ke:function(){console.log(z),z?Ce.stop().getMp3().then((function(e){var t=Object(a.a)(e,2),n=(t[0],t[1]);H(!1),console.log("Stopped"),Se.src=URL.createObjectURL(n),se(n),ee(!0),Se.play(),Se.ontimeupdate=function(){Y(Se.currentTime/Se.duration*100)}})).catch((function(e){H(!1),console.log(e)})):Ce.start().then((function(){H(!0)})).catch((function(e){H(!1),console.log(e)}))}:ke,variant:"ghost",children:Object(ne.jsx)(b.a,{color:"rgba(18,140,126,1)",w:8,h:8,as:u?z?J.k:$?J.j:J.e:J.j})})]})]})}function Ce(e){var t=te().config;return Object(ne.jsxs)(d.a,{d:"flex",w:"100%",alignItems:"center",borderRight:{md:t.borderRn},justifyContent:"space-between",boxSizing:"content-box",pb:{md:"5px"},backgroundColor:t.navBg,h:"100%",borderBottom:{md:t.border},children:[Object(ne.jsx)(d.a,{ml:2,d:"flex",alignItems:"center",h:"100%",children:Object(ne.jsx)(ie.a,{onClick:e.profile,cursor:"pointer",maxH:"100%",src:e.src,name:e.name})}),Object(ne.jsxs)(d.a,{d:"flex",alignItems:"center",justifyContent:"space-around",mr:3,children:[Object(ne.jsx)(d.e,{d:"flex",alignItems:"center",justifyContent:"center",fontSize:28,as:i.b,mr:3,to:"/",children:Object(ne.jsx)(b.a,{color:t.IconColor,as:X.g,cursor:"pointer"})}),Object(ne.jsx)(b.a,{color:t.IconColor,fontSize:28,mr:3,onClick:e.contactList,as:pe.b,cursor:"pointer"})]})]})}var Se=n(71),ke=n(151);function Ie(e){var t=Object(c.useState)(),n=Object(a.a)(t,2),o=n[0],r=n[1],s=Object(c.useState)(!1),i=Object(a.a)(s,2),l=i[0],u=i[1],h=te().config;return Object(ne.jsxs)(d.b,{bg:h.contactBg,direction:"column",alignItems:"flex-end",mt:"5px",h:"100%",overflowY:"block",children:[Object(ne.jsx)(b.a,{color:h.IconColor,cursor:"pointer",mr:3,onClick:function(){e.updatePopup()},fontSize:28,as:X.f}),Object(ne.jsxs)(d.f,{spacing:8,mx:"auto",maxW:"lg",px:6,children:[Object(ne.jsxs)(d.f,{align:"center",children:[Object(ne.jsx)(d.d,{fontSize:"4xl",children:"Add Contact"}),Object(ne.jsx)(d.g,{fontSize:"lg",color:"gray.600",children:"to start messaging your friends \u270c\ufe0f"})]}),Object(ne.jsx)(d.a,{rounded:"lg",boxShadow:"lg",p:8,children:Object(ne.jsxs)(d.f,{spacing:4,children:[Object(ne.jsxs)(d.g,{h:10,d:"flex",opacity:e.error.error?1:0,p:"2",alignItems:"center",justifyContent:"center",borderRadius:10,backgroundColor:"rgba(232, 39, 39, 0.5)",align:"center",color:"white",transition:"opacity 0.5s ease",children:[e.error.message,"    "]}),Object(ne.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.setError({error:!1,code:null,message:null}),u(!0),E.a.post("/addcontact",{email:o},{headers:{authorization:N.currentUser.accessToken,"Content-Type":"application/json"}}).then((function(t){console.log(t,t.status),e.updatePopup(),u(!1)})).catch((function(t){u(!1),t.response&&e.setError({error:!0,code:t.response.code,message:t.response.data})}))},children:[Object(ne.jsxs)(Se.a,{id:"email",children:[Object(ne.jsx)(Se.b,{children:"Email address"}),Object(ne.jsx)(ke.a,{onChange:function(t){r(t.target.value),e.setError({error:!1,code:null,message:null})},autoComplete:"username",type:"email"})]}),Object(ne.jsx)(d.f,{pt:6,spacing:10,children:Object(ne.jsx)(d.a,{d:"flex",justifyContent:"center",children:Object(ne.jsx)(j.a,{isLoading:l,w:"50%",type:"submit",bg:"blue.400",color:"white",_hover:{bg:"blue.500"},children:"Add"})})})]})]})})]})]})}n(152);function Ae(e){var t=te(),n=t.config,c=t.toggleColor;return Object(ne.jsxs)(d.a,{d:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:n.navBg,h:"100%",zIndex:"1000",boxSizing:"content-box",pb:{md:"5px"},borderLeft:{md:n.borderRn},children:[Object(ne.jsxs)(d.a,{ml:2,d:"flex",alignItems:"center",h:"100%",children:[Object(ne.jsx)(b.a,{color:n.IconColor,mr:2,onClick:function(){e.updateWidth()},fontSize:28,as:oe.b}),Object(ne.jsx)(ie.a,{name:e.name,maxH:"100%",src:e.src,mr:2}),Object(ne.jsx)(d.g,{color:"white",fontSize:{md:"xl",sm:"lg"},children:e.name})]}),Object(ne.jsxs)(d.a,{d:"flex",flexDirection:"row",alignItems:"center",children:[Object(ne.jsx)(j.a,{colorScheme:"transparent",variant:"ghost",onClick:c,children:Object(ne.jsx)(b.a,{style:{padding:"0 4px",fontSize:"28",fontWeight:"bold"},color:n.IconColor,as:n.Icon})}),Object(ne.jsx)(b.a,{color:n.IconColor,mr:3,fontSize:28,as:X.k})]})]})}function Be(e){var t=Object(l.h)(),n=Object(c.useState)(),o=Object(a.a)(n,2),r=o[0],s=o[1],i=Object(c.useState)(!0),u=Object(a.a)(i,2),j=u[0],b=u[1];return Object(c.useEffect)((function(){function e(){return e=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D({databaseKey:M.a.get("databaseKey"),sessionID:M.a.get("sessionId")});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(x.h)(N).then((function(){E.a.post("/session/logout",{reqest:"logout"},{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e),localStorage.removeItem("user"),t("/auth/login")}))}));case 8:Object(v.e)(Object(v.h)(V,"".concat(N.currentUser.uid,"/chats/")),(function(e){var t=[],n=0;e.hasChildren()?(b(!0),e.forEach((function(c){Object(v.e)(Object(v.h)(V,"".concat(c.key,"/PersonalInfo")),(function(o){Object(v.e)(Object(v.g)(Object(v.h)(V,"".concat(N.currentUser.uid,"/chats/").concat(c.key,"/messages")),Object(v.c)(1)),(function(c){c.forEach(function(){var c=Object(O.a)(f.a.mark((function c(r){var a,i;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if("audio"===r.val().type){c.next=10;break}return c.next=3,P().retrieveEncryptionSession({encryptedMessage:r.val().message});case 3:return a=c.sent,c.next=6,a.decryptMessage(r.val().message);case 6:i=c.sent,t.push(Object(ae.a)(Object(ae.a)({},o.val()),{},{message:i})),c.next=11;break;case 10:"audio"===r.val().type&&t.push(Object(ae.a)(Object(ae.a)({},o.val()),{},{message:"\ud83d\udd0a Audio Message"}));case 11:++n===e.size&&s(t);case 13:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}())}),{onlyOnce:!0})}),{onlyOnce:!0})}))):b(!1)}));case 9:case"end":return e.stop()}}),e,null,[[0,5]])}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[j]),Object(ne.jsx)(d.a,{children:r?r.map((function(t,n){return Object(c.createElement)(le,Object(ae.a)(Object(ae.a)({onClick:function(){e.setMnav({src:t.photoURL,name:t.name}),e.setUid(t.uid),e.setWidth("0%"),e.setXwidth("100%")}},t),{},{key:n}))})):Object(ne.jsx)(d.a,{children:j?Object(ne.jsxs)(d.a,{children:[Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{}),Object(ne.jsx)(ue,{})]}):Object(ne.jsx)(d.g,{d:"flex",h:"80vh",w:"100%",justifyContent:"center",alignItems:"center",textAlign:"center",fontSize:26,fontWeight:600,color:"#137284",children:"No Message to show Start Chating now."})})})}var Re=n(167);function Me(e){var t=Object(c.useState)([]),n=Object(a.a)(t,2),o=n[0],r=n[1],s=Object(c.useState)(!0),i=Object(a.a)(s,2),l=i[0],b=i[1],h=Object(c.useState)(!1),g=Object(a.a)(h,2),x=g[0],p=g[1],f=Object(c.useCallback)((function(e){r(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})}))),b(!1),console.log(e),console.log(o)}),[o]),O=Object(Re.a)({onDrop:f,accept:"image/*",maxFiles:1}),m=O.getRootProps,v=O.getInputProps,y=O.open,C=O.isDragReject,S=O.isDragActive,k=o.map((function(e){return Object(ne.jsx)(d.a,{children:Object(ne.jsx)(u.a,{src:e.preview})},e.name)}));return Object(c.useEffect)((function(){return function(){o.forEach((function(e){return URL.revokeObjectURL(e.preview)})),console.log("cleanup")}}),[o]),Object(ne.jsx)(d.b,{h:"90vh",overflowY:"auto",mt:"5vh",justify:"center",children:Object(ne.jsxs)(d.f,{spacing:8,mx:"auto",maxW:"lg",px:6,children:[Object(ne.jsx)(d.f,{align:"center",children:Object(ne.jsx)(d.d,{fontSize:"4xl",children:"Profile Picture"})}),Object(ne.jsx)(d.a,{rounded:"lg",boxShadow:"lg",p:8,children:Object(ne.jsx)(d.f,{spacing:4,children:Object(ne.jsxs)("form",{onSubmit:function(t){t.preventDefault(),p(!0);var n=Object(w.d)(K,"ProfileImage/".concat(N.currentUser.uid,"/profile.").concat(o[0].type.split("/")[1]));Object(w.e)(n,o[0]).then((function(t){console.log(t),Object(w.b)(n).then((function(t){E.a.post("/uploadprofile",{url:t,uid:N.currentUser.uid},{headers:{authorization:N.currentUser.accessToken}}).then((function(t){p(!1),e.profile()}))}))})).catch((function(e){console.log("file Upload Error",e)}))},children:[Object(ne.jsxs)(Se.a,Object(ae.a)(Object(ae.a)({h:"140px",w:"250px",d:l?"flex":"none",cursor:"pointer",flexDirection:"column",justifyContent:"center",alignItems:"center",fontWeight:800,backgroundColor:"darkslategrey",color:"whiteAlpha.500",border:S?C?"3px dashed red":"3px dashed green":"3px dashed grey"},m()),{},{id:"profile",children:[Object(ne.jsx)(ke.a,Object(ae.a)(Object(ae.a)({},v()),{},{type:"file"})),S?C?Object(ne.jsx)(d.g,{color:"red.500",textAlign:"center",children:"Only Images (PNG,JPEG,SVG,jfif )are supported"}):Object(ne.jsx)(d.g,{color:"green.700",textAlign:"center",children:"Drop Image here..."}):Object(ne.jsx)(d.g,{textAlign:"center",children:"Drag 'n' drop some Image here, or click to select Image"})]})),Object(ne.jsx)(d.a,{h:"auto",w:"auto",d:"flex",justifyContent:"center",alignItems:"center",children:k}),Object(ne.jsx)(d.f,{pt:6,spacing:10,children:Object(ne.jsxs)(d.a,{d:"flex",justifyContent:"space-around",children:[Object(ne.jsx)(j.a,{w:"40%",border:"1px solid blue",bg:"lightgrey",color:"black",onClick:l?y:function(){r([]),b(!0)},_hover:{bg:"blue.400",color:"white"},children:l?"Choose file":"Remove"}),Object(ne.jsx)(j.a,{isLoading:x,w:"40%",d:l?"none":"block",type:"submit",bg:"blue.400",color:"white",_hover:{bg:"white",color:"black",border:"1px solid blue"},children:"Add"})]})})]})})})]})})}function Ue(){var e=te(),t=e.config,n=e.toggleColor,o=Object(c.useState)({src:"",name:"",Uid:""}),r=Object(a.a)(o,2),s=r[0],i=r[1],l=Object(c.useState)("100%"),u=Object(a.a)(l,2),h=u[0],g=u[1],x=Object(c.useState)("0%"),p=Object(a.a)(x,2),f=p[0],O=p[1],m=Object(c.useState)(!1),w=Object(a.a)(m,2),C=w[0],S=w[1],k=Object(c.useState)("-100%"),I=Object(a.a)(k,2),A=I[0],B=I[1],R=Object(c.useState)(),M=Object(a.a)(R,2),U=M[0],F=M[1],D=Object(c.useState)(!1),W=Object(a.a)(D,2),L=W[0],z=W[1],P=Object(c.useState)({error:!1,code:null,message:null}),H=Object(a.a)(P,2),T=H[0],K=H[1],X=Object(c.useState)(null),J=Object(a.a)(X,2),Q=J[0],Z=J[1],Y=function(){S(!C),z(!1),K({error:!1,code:null,message:null})},G=function(e){i(e)},_=function(e){Z(e)},$=function(e){g(e)},ee=function(e){O(e)},ce=function(){z(!L),S(!1)},oe=function(){B("-100%"===A?"0%":"-100%")};Object(c.useEffect)((function(){N.currentUser&&Object(y.b)(q,{vapidKey:"BIG_x8Pfe_CcFxJXyeCHjqSHNo-QZ8Hen1hRrSv1Td8pUtO21nNLb3gungy8b2ZOzIFFF8HmPhji1q9iaDvYaao"}).then((function(e){e?(E.a.post("/notification",{token:e},{headers:{authorization:N.currentUser.accessToken,"Content-Type":"application/json"}}).then((function(e){console.log(e.status)})).catch((function(e){console.log(e)})),console.warn("token: ",e)):console.log("No registration token available. Request permission to generate one.")})).catch((function(e){console.log("rejected Permission"),console.log(e.code)}))}),[]),Object(c.useEffect)((function(){Object(y.c)(q,(function(e){console.log("Message received. ",e)}))}),[]),Object(c.useEffect)((function(){N.currentUser&&Object(v.e)(Object(v.h)(V,"".concat(N.currentUser.uid,"/PersonalInfo/photoURL")),(function(e){F(e.val())}))}),[]);return Object(ne.jsx)(ne.Fragment,{children:Object(ne.jsxs)(d.a,{d:"flex",position:"absolute",scroll:"none",flexDirection:"row",h:"100vh",w:"100vw",overflow:"hidden",children:[Object(ne.jsxs)(d.a,{d:"flex",flexDirection:"column",h:"100vh",overflow:"hidden",w:{md:"40%",sm:h,lg:"30%"},children:[Object(ne.jsx)(d.a,{w:"100%",h:{md:"7vh",sm:"9vh",lg:"8vh"},borderBottom:t.border,children:Object(ne.jsx)(Ce,{profile:ce,contactList:oe,name:N.currentUser.displayName,src:U})}),Object(ne.jsxs)(d.a,{h:{md:"93vh",sm:"91vh",lg:"92vh"},mt:{md:"5px"},overflowY:"",children:[Object(ne.jsx)(d.a,{d:C||L?"none":"block",h:"100%",overflowY:"scroll",w:"100%",transition:"display 1s fade",zIndex:-1,css:{"&::-webkit-scrollbar":{display:"none"}},backgroundColor:t.contactBg,overscrollBehaviorY:"contain",children:Object(ne.jsx)(Be,{setMnav:G,setUid:_,setWidth:$,setXwidth:ee})}),Object(ne.jsx)(d.a,{d:C?"block":"none",transition:"display 1s fade",h:"100%",children:Object(ne.jsx)(Ie,{updatePopup:Y,popupContactList:oe,setError:function(e){K(e)},error:T})}),Object(ne.jsx)(d.a,{d:L?"block":"none",children:Object(ne.jsx)(Me,{profile:ce,url:U})})]}),Object(ne.jsx)(d.a,{position:"fixed",left:A,h:"100%",overflowY:"scroll",overscrollBehaviorY:"contain",w:{md:"40%",sm:h,lg:"30%"},transition:"left 0.45s ease-in-out",css:{"&::-webkit-scrollbar":{display:"none"}},backgroundColor:t.contactBg,children:Object(ne.jsx)(je,{setMnav:G,popupContactList:oe,setUid:_,setWidth:$,setXwidth:ee,popup:Y,po:C})})]}),Object(ne.jsxs)(d.a,{h:"100vh",zIndex:"1",w:{md:"60%",sm:f,lg:"70%"},d:{md:Q?"block":"none",sm:"block"},children:[Object(ne.jsx)(d.a,{w:"100%",h:{md:"7vh",sm:"9vh",lg:"8vh"},children:Object(ne.jsx)(Ae,Object(ae.a)({updateWidth:function(){g("100%"),O("0%")}},s))}),Object(ne.jsx)(d.a,{h:{md:"93vh",sm:"91vh",lg:"92vh"},mt:{md:"5px"},w:"100%",children:Object(ne.jsx)(ye,{uid:Q})})]}),Object(ne.jsxs)(d.a,{h:"100vh",zIndex:"1",w:{md:"60%",sm:f,lg:"70%"},color:"white",backgroundColor:t.mesBg,d:{md:Q?"none":"flex",sm:"none"},justifyContent:"center",alignItems:"center",children:[Object(ne.jsx)(j.a,{variant:"ghost",onClick:n,position:"absolute",top:4,right:4,children:Object(ne.jsx)(b.a,{color:t.IconColor,as:t.Icon})}),Object(ne.jsx)(d.g,{textAlign:"center",fontSize:26,fontWeight:600,children:"Select Contact to Send Message"})]})]})})}var Fe=n(153);function De(){var e=te(),t=e.config,n=e.toggleColor,o=Object(c.useState)(null),r=Object(a.a)(o,2),s=r[0],l=r[1],u=Object(c.useState)(!1),h=Object(a.a)(u,2),g=h[0],p=h[1];return Object(c.useEffect)((function(){Object(x.e)(N,(function(e){l(!!e)}))}),[]),Object(c.useEffect)((function(){!1===s?setTimeout((function(){N.user?p(!1):p(!0)}),4e3):console.log(s)}),[s]),Object(ne.jsxs)(ne.Fragment,{children:[g&&Object(ne.jsx)(j.a,{onClick:n,variant:"ghost",position:"absolute",right:4,top:4,children:Object(ne.jsx)(b.a,{color:t.IconColor,as:t.Icon})}),s?Object(ne.jsx)(Ue,{}):Object(ne.jsx)(d.a,{h:"100vh",bg:t.mesBg,w:"100vw",d:"flex",justifyContent:"center",alignItems:"center",children:g?Object(ne.jsx)(ne.Fragment,{children:Object(ne.jsxs)(d.g,{textAlign:"center",w:"80vw",children:["You are Not Logged In"," ",Object(ne.jsx)(j.a,{variant:"link",children:Object(ne.jsx)(d.e,{as:i.b,to:"/auth/login",children:"Login"})})," ","or"," ",Object(ne.jsx)(j.a,{variant:"link",children:Object(ne.jsx)(d.e,{as:i.b,to:"/auth/signup",children:"Signup"})})," ",Object(ne.jsx)("br",{}),Object(ne.jsx)(j.a,{variant:"link",children:Object(ne.jsx)(d.e,{as:i.b,to:"/",children:"Go back to Home Page"})})]})}):Object(ne.jsx)(Fe.a,{size:"xs",borderRadius:"10%",w:"80vw",isIndeterminate:!0})})]})}function We(e){return Object(ne.jsxs)(d.a,{h:"300px",mx:"10px",mb:"5px",backgroundColor:e.bgc,borderRadius:"12px",w:"250px",children:[Object(ne.jsx)(d.g,{fontSize:"16px",lineHeight:"34px",fontFamily:"Roboto",textAlign:"center",letterSpacing:2,fontWeight:"700",color:"#5e5e5e",children:e.name}),Object(ne.jsx)(d.a,{d:"flex",justifyContent:"center",h:"40px",mb:"5px",children:Object(ne.jsx)(d.a,{d:"flex",justifyContent:"center",alignItems:"center",h:"60px",w:"60px",p:"5px",borderRadius:"50%",backgroundColor:e.iconBgColor,children:Object(ne.jsx)(b.a,{color:e.iconColor,h:"40px",w:"40px",as:e.icon})})}),Object(ne.jsx)(d.a,{mt:"23px",children:e.text()})]})}var Le=n(165),ze=n(166),Pe=function(){return Object(ne.jsxs)(d.a,{children:[Object(ne.jsx)(d.g,{fontSize:"18px",fontFamily:"Roboto",textAlign:"center",letterSpacing:2,fontWeight:"700",color:"#5e5e5e",children:"Simple, Reliable Messaging"}),Object(ne.jsx)(d.g,{fontSize:"14px",letterSpacing:1,color:"#5e5e5e",fontFamily:"Roboto",textAlign:"center",fontWeight:"600",children:"Message your friends and family for free*. Message Hub uses your phone's Internet connection to send messages so you can avoid SMS fees"})]})},He=function(){return Object(ne.jsxs)(d.a,{children:[Object(ne.jsx)(d.g,{fontSize:"16px",fontFamily:"Roboto",textAlign:"center",letterSpacing:2,fontWeight:"800",color:"#5e5e5e",children:"END-TO-END ENCRYPTION"}),Object(ne.jsx)(d.g,{textAlign:"center",fontSize:"18px",lineHeight:"26px",fontWeight:"700",children:"Security by Default"}),Object(ne.jsx)(d.g,{fontSize:"14px",letterSpacing:1,color:"#5e5e5e",fontFamily:"Roboto",textAlign:"center",fontWeight:"600",children:"Some of your personal moments are shared on MessageHub, which is why we use end-to-end encryption.your messages are secured so only you and the person you're communicating with can read or listen to them."})]})},Ee=function(){return Object(ne.jsxs)(d.a,{children:[Object(ne.jsx)(d.g,{fontSize:"18px",fontFamily:"Roboto",textAlign:"center",letterSpacing:2,fontWeight:"700",color:"#5e5e5e",children:"Keep the Conversation Going"}),Object(ne.jsx)(d.g,{fontSize:"14px",letterSpacing:1,color:"#5e5e5e",fontFamily:"Roboto",textAlign:"center",fontWeight:"600",children:"MessageHub is a Web-app so you can use it on any Devise with Internet Connection and a Web-Browser. This is a PWA so you can Install it on Dekstop as well as Mobile Phone."})]})};function Te(){var e=Object(Y.c)().colorMode;return Object(ne.jsxs)(d.a,{backgroundColor:"light"===e?"#1ee398":"#19263a",minW:"100%",minH:"100%",children:[Object(ne.jsx)(d.a,{d:"flex",w:"100%",justifyContent:"center",children:Object(ne.jsx)(d.g,{mt:"20px",fontSize:"38px",lineHeight:"38px",color:"white",fontFamily:"Roboto",letterSpacing:"2px",children:Object(ne.jsx)("b",{children:"Features"})})}),Object(ne.jsxs)(d.a,{mt:"40px",justifyContent:"center",flexWrap:"wrap",alignItems:"",d:"flex",children:[Object(ne.jsx)(We,{icon:Le.a,text:Pe,iconColor:"#00bfff",iconBgColor:"#d0cfd0",name:"MESSAGES",bgc:"#fcf2c6"}),Object(ne.jsx)(We,{text:He,icon:X.e,iconBgColor:"#eaeb6b",name:"SECURITY",bgc:"#E7F0E4"}),Object(ne.jsx)(We,{text:Ee,icon:ze.a,iconBgColor:"#6bebb2",name:"ON THE WEB",bgc:"#d6bcd9"})]})]})}function Ne(){return Object(ne.jsx)("div",{children:"Help-Center"})}function Ke(){return Object(ne.jsx)("div",{children:"security"})}function Ve(){return Object(ne.jsx)("div",{children:"404 - Page not found :("})}n(246);function qe(){var e=Object(l.h)(),t=Object(c.useState)(null),n=Object(a.a)(t,2),o=n[0],r=n[1],s=Object(c.useState)(null),u=Object(a.a)(s,2),b=u[0],h=u[1],g=Object(c.useState)(!1),p=Object(a.a)(g,2),m=p[0],w=p[1],v=Object(c.useState)(null),y=Object(a.a)(v,2),C=y[0],S=y[1],k=Object(c.useState)(),I=Object(a.a)(k,2),A=I[0],B=I[1],R=Object(c.useState)(!1),U=Object(a.a)(R,2),F=U[0],D=U[1],W=Object(c.useState)(),L=Object(a.a)(W,2),P=L[0],H=L[1],T=Object(c.useState)(),K=Object(a.a)(T,2),V=K[0],q=K[1],X=Object(c.useState)(!1),J=Object(a.a)(X,2),Q=J[0],Z=J[1],Y=te().config,G=Object(c.useState)({code:null,error:!1,message:null}),_=Object(a.a)(G,2),$=_[0],ee=_[1],ce=function(){var t=Object(O.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Z(!0),t.prev=1,t.next=4,z({challenge:C,userId:N.currentUser.uid,twoManRuleKey:P,emailAddress:N.currentUser.email,twoManRuleSessionId:V,databaseKey:M.a.get("databaseKey"),sessionID:M.a.get("sessionId"),password:!!A&&b});case 4:Z(!1),e("/"),localStorage.setItem("login",!0),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),Object(x.h)(N).then((function(){E.a.post("/session/logout",{reqest:"logout"},{headers:{"Content-Type":"application/json"}}).then((function(e){localStorage.removeItem("user"),localStorage.setItem("login",!1),D(!1),w(!1),Z(!1),ee({code:"Invalid OTP",error:!0,message:"Invalid OTP login again"})}))}));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}();return Object(ne.jsx)(d.b,{mt:91,minH:"100vh",align:"center",justify:"center",children:Object(ne.jsxs)(d.f,{spacing:8,mx:"auto",maxW:"lg",py:12,px:6,children:[Object(ne.jsxs)(d.f,{align:"center",children:[Object(ne.jsx)(d.d,{fontSize:"4xl",children:"LogIn to your account"}),Object(ne.jsxs)(d.g,{fontSize:"lg",color:"gray.600",children:["to enjoy all of our cool"," ",Object(ne.jsx)(d.e,{as:i.b,to:"/features",color:"blue.400",children:"features"})," ","\u270c\ufe0f"]})]}),Object(ne.jsx)(d.a,{rounded:"lg",boxShadow:"lg",p:8,children:Object(ne.jsxs)(d.f,{spacing:4,children:[Object(ne.jsxs)(d.g,{h:10,d:"flex",opacity:$.code?1:0,p:"2",alignItems:"center",justifyContent:"center",borderRadius:10,backgroundColor:$.error?"rgba(232, 39, 39, 0.5)":"#4BB543",align:"center",color:"white",transition:"opacity 0.5s ease-in-out",children:[$.message,"    "]}),Object(ne.jsxs)("form",{onSubmit:function(t){w(!0),t.preventDefault(),""!==o&&null!==o&&""!==b&&null!==b?Object(x.g)(N,o,b).then(function(){var t=Object(O.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:localStorage.setItem("user",N.currentUser),E.a.post("/session/login",{uid:N.currentUser.uid},{headers:{Authorization:N.currentUser.accessToken,"Content-Type":"application/json"}}).then(function(){var t=Object(O.a)(f.a.mark((function t(n){var c,o,r,s,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n.data,o=c.twoManRuleSessionId,r=c.twoManRuleKey,s=c.mustAuthenticate,a=c.passRetrival,w(!1),!s){t.next=10;break}D(!0),q(o),H(r),B(a),ee({code:"otp_sent",error:!1,message:"OTP sent check your mail"}),t.next=14;break;case 10:return t.next=12,z({userId:N.currentUser.uid,databaseKey:M.a.get("databaseKey"),sessionID:M.a.get("sessionId"),emailAddress:N.currentUser.email,twoManRuleKey:r,twoManRuleSessionId:o,password:!!a&&b});case 12:e("/"),localStorage.setItem("login",!0);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){Object(x.h)(N).then((function(){E.a.post("/session/logout",{reqest:"logout"},{headers:{"Content-Type":"application/json"}}).then((function(t){localStorage.removeItem("user"),localStorage.setItem("login",!1),D(!1),w(!1),Z(!1),ee({code:"500",error:!0,message:"Internal Server Erorr."}),console.log(e)}))}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){w(!1),"auth/user-not-found"===e.code?ee({code:e.code,error:!0,message:"Email not registered plese SignUp first"}):"auth/invalid-email"===e.code?ee({code:e.code,error:!0,message:"Invalid Email address"}):"auth/wrong-password"===e.code?ee({code:e.code,error:!0,message:"Forget your password? Reset it"}):(ee({code:e.code,error:!0,message:"Something went wrong try again"}),console.log(e.code))})):(ee({code:"email empty",error:!0,message:"Email & Password is required for login"}),w(!1))},children:[Object(ne.jsxs)(Se.a,{id:"email",children:[Object(ne.jsx)(Se.b,{children:"Email address"}),Object(ne.jsx)(ke.a,{borderColor:Y.inBorder,disabled:F,onChange:function(e){r(e.target.value),ee({code:null,error:!1,message:null})},autoComplete:"username",type:"email"})]}),Object(ne.jsxs)(Se.a,{id:"password",children:[Object(ne.jsx)(Se.b,{children:"Password"}),Object(ne.jsx)(ke.a,{borderColor:Y.inBorder,onChange:function(e){h(e.target.value),ee({code:null,error:!1,message:null})},autoComplete:"current-password",type:"password",disabled:F})]}),Object(ne.jsxs)(d.f,{spacing:10,children:[Object(ne.jsx)(d.f,{direction:{base:"column",sm:"row"},align:"start",justify:"space-between",children:Object(ne.jsx)(d.e,{as:i.b,to:"/auth/resetpswd",color:"blue.400",children:"Forgot password?"})}),Object(ne.jsx)(j.a,{disabled:F,loadingText:"Checking Info...",isLoading:m,type:"submit",bg:"blue.400",color:"white",_hover:{bg:"blue.500"},children:"Log In"})]})]}),F&&Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(ke.a,{borderColor:Y.inBorder,onChange:function(e){S(e.target.value),ee({code:null,error:!1,message:null})},placeholder:"enter challenge send in your email"}),Object(ne.jsx)(j.a,{isLoading:Q,loadingText:"Validating",onClick:ce,children:"Submit"})]}),Object(ne.jsx)(d.f,{pt:6,children:Object(ne.jsxs)(d.g,{h:10,p:"2",align:"center",children:["New user?","    ",Object(ne.jsx)(d.e,{as:i.b,to:"/auth/signup",color:"blue.400",children:"SignUp"})]})})]})})]})})}function Xe(){var e=te().config,t=Object(c.useState)(!1),n=Object(a.a)(t,2),o=n[0],r=n[1],s=Object(c.useState)(null),u=Object(a.a)(s,2),h=u[0],g=u[1],p=Object(c.useState)(null),m=Object(a.a)(p,2),w=m[0],v=m[1],y=Object(c.useState)(null),C=Object(a.a)(y,2),S=C[0],k=C[1],I=Object(c.useState)(null),A=Object(a.a)(I,2),B=A[0],R=A[1],U=Object(c.useState)(null),F=Object(a.a)(U,2),D=F[0],z=F[1],P=Object(c.useState)(!1),H=Object(a.a)(P,2),T=H[0],K=H[1],V=Object(c.useState)({code:null,error:!1,message:null}),q=Object(a.a)(V,2),J=q[0],Q=q[1],Z=Object(c.useState)(!1),Y=Object(a.a)(Z,2),G=Y[0],_=Y[1],$=Object(c.useState)(!1),ee=Object(a.a)($,2),ce=ee[0],oe=ee[1],re=Object(c.useState)(),se=Object(a.a)(re,2),ae=se[0],ie=se[1],le=Object(c.useState)(),de=Object(a.a)(le,2),ue=de[0],je=de[1],be=Object(l.h)(),he=function(){E.a.post("/register",{uid:N.currentUser.uid,name:N.currentUser.displayName},{headers:{Authorization:N.currentUser.accessToken,"Content-Type":"application/json"}}).then(function(){var e=Object(O.a)(f.a.mark((function e(t){var n,c,o,r,s,a,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,c=n.token,o=n.twoManRuleSessionId,r=n.twoManRuleKey,s=n.mustAuthenticate,a=M.a.get("databaseKey"),i=M.a.get("sessionId"),e.next=5,W({userId:N.currentUser.uid,userLicenseToken:c,databaseKey:a,sessionID:i,jwt:N.currentUser.accessToken});case 5:if(!s){e.next=11;break}oe(!0),je(o),ie(r),e.next=15;break;case 11:return e.next=13,L({userId:N.currentUser.uid,twoManRuleKey:r,emailAddress:N.currentUser.email,twoManRuleSessionId:o,databaseKey:a,sessionID:i});case 13:be("/"),localStorage.setItem("login",!0);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Object(x.c)(N.currentUser).then((function(){E.a.post("/session/logout",{reqest:"logout"},{headers:{"Content-Type":"application/json"}}).then((function(e){localStorage.removeItem("user"),localStorage.setItem("login",!1),oe(!1),K(!1),_(!1),Q({code:"Invalid OTP",error:!0,message:"Invalid OTP Sign Up again"})}))}))}))},ge=function(){var e=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L({challenge:h,userId:N.currentUser.uid,twoManRuleKey:ae,emailAddress:N.currentUser.email,twoManRuleSessionId:ue,databaseKey:M.a.get("databaseKey"),sessionID:M.a.get("sessionId")});case 3:localStorage.setItem("login",!0),be("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(x.c)(N.currentUser).then((function(){E.a.post("/session/logout",{reqest:"logout"},{headers:{"Content-Type":"application/json"}}).then((function(e){localStorage.removeItem("user"),localStorage.setItem("login",!1),oe(!1),K(!1),_(!1),Q({code:"Invalid OTP",error:!0,message:"Invalid OTP Sign Up again"})}))}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return N.currentUser?Object(ne.jsx)(l.a,{to:"/web"}):Object(ne.jsx)(d.b,{mt:91,minH:"100vh",align:"center",justify:"center",children:Object(ne.jsxs)(d.f,{spacing:8,mx:"auto",maxW:"lg",py:12,px:6,children:[Object(ne.jsxs)(d.f,{align:"center",children:[Object(ne.jsx)(d.d,{fontSize:"4xl",textAlign:"center",children:"Sign up"}),Object(ne.jsx)(d.g,{fontSize:"lg",color:"gray.600",children:"to enjoy all of our cool features \u270c\ufe0f"})]}),Object(ne.jsx)(d.a,{rounded:"lg",boxShadow:"lg",p:8,children:Object(ne.jsxs)(d.f,{spacing:4,children:[Object(ne.jsxs)(d.g,{h:10,d:"flex",opacity:J.error?1:0,p:"2",alignItems:"center",justifyContent:"center",borderRadius:10,backgroundColor:"rgba(232, 39, 39, 0.5)",align:"center",color:"white",transition:"opacity 0.5s ease",children:[J.message,"    "]}),Object(ne.jsxs)("form",{onSubmit:function(e){K(!0),e.preventDefault(),console.log(w),""!==w&&null!==w&&""!==S&&null!==S&&null!==B&&""!==B?(console.log(B),Object(x.b)(N,w,S).then((function(e){null===D||""===D?Object(x.i)(N.currentUser,{displayName:"".concat(B)}).then((function(){he()})):Object(x.i)(N.currentUser,{displayName:"".concat(B," ").concat(D)}).then((function(){he()}))})).catch((function(e){K(!1),"auth/email-already-in-use"===e.code?Q({code:e.code,error:!0,message:"".concat(w," is already in use")}):"auth/invalid-email"===e.code?Q({code:e.code,error:!0,message:"use valid email"}):Q({code:"some thing went wrong",error:!0,message:"Something went worng "}),console.log(e.code)}))):(Q({code:"email empty",error:!0,message:"fill required filds marked with *"}),K(!1),console.log(w))},children:[Object(ne.jsxs)(d.c,{children:[Object(ne.jsx)(d.a,{children:Object(ne.jsxs)(Se.a,{id:"firstName",isRequired:!0,children:[Object(ne.jsx)(Se.b,{children:"First Name"}),Object(ne.jsx)(ke.a,{borderColor:e.inBorder,onChange:function(e){R(e.target.value),Q({code:null,error:!1,message:null})},type:"text"})]})}),Object(ne.jsx)(d.a,{children:Object(ne.jsxs)(Se.a,{id:"lastName",children:[Object(ne.jsx)(Se.b,{children:"Last Name"}),Object(ne.jsx)(ke.a,{borderColor:e.inBorder,onChange:function(e){z(e.target.value),Q({code:null,error:!1,message:null})},type:"text"})]})})]}),Object(ne.jsxs)(Se.a,{id:"email",isRequired:!0,children:[Object(ne.jsx)(Se.b,{children:"Email address"}),Object(ne.jsx)(ke.a,{borderColor:e.inBorder,autoComplete:"username",onChange:function(e){v(e.target.value),Q({code:null,error:!1,message:null})},type:"email"})]}),Object(ne.jsxs)(Se.a,{id:"password",isRequired:!0,children:[Object(ne.jsx)(Se.b,{children:"Password"}),Object(ne.jsxs)(ke.b,{children:[Object(ne.jsx)(ke.a,{borderColor:e.inBorder,onChange:function(e){k(e.target.value),Q({code:null,error:!1,message:null})},autoComplete:"current-password",type:o?"text":"password"}),Object(ne.jsx)(ke.c,{h:"full",children:Object(ne.jsx)(j.a,{variant:"ghost",onClick:function(){return r((function(e){return!e}))},children:Object(ne.jsx)(b.a,{as:o?X.c:X.d})})})]})]}),Object(ne.jsx)(d.f,{spacing:10,pt:2,children:Object(ne.jsx)(j.a,{loadingText:"Creating Account...",isLoading:T,type:"submit",size:"lg",bg:"blue.400",color:"white",_hover:{bg:"blue.500"},children:"Sign up"})})]}),ce&&Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(ke.a,{borderColor:e.inBorder,onChange:function(e){g(e.target.value)},placeholder:"enter challenge send in your email"}),Object(ne.jsx)(j.a,{isLoading:G,loadingText:"Validating",onClick:ge,children:"Submit"})]}),Object(ne.jsx)(d.f,{pt:3,children:Object(ne.jsxs)(d.g,{pt:3,align:"center",children:["Already a user?"," ",Object(ne.jsx)(d.e,{as:i.b,to:"/auth/login",color:"blue.400",children:"Login"})]})})]})})]})})}var Je=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Qe(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Je?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ze(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Ze(t,e)}))}}function Ze(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ye=n(104);function Ge(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],o=t[1],r=Object(c.useState)(),s=Object(a.a)(r,2),l=s[0],u=s[1],b=Object(c.useState)({code:null,error:!1,message:null}),h=Object(a.a)(b,2),g=h[0],p=h[1];return Object(ne.jsx)(ne.Fragment,{children:Object(ne.jsx)(d.b,{mt:91,minH:"100vh",align:"center",justify:"center",children:Object(ne.jsxs)(d.f,{spacing:8,mx:"auto",maxW:"lg",py:12,px:6,children:[Object(ne.jsx)(d.f,{align:"center",children:Object(ne.jsx)(d.d,{fontSize:"4xl",children:"Reset Password"})}),Object(ne.jsx)(d.a,{rounded:"lg",boxShadow:"lg",p:8,children:Object(ne.jsxs)(d.f,{spacing:4,children:[Object(ne.jsxs)(d.g,{h:10,d:"flex",opacity:g.code?1:0,p:"2",alignItems:"center",justifyContent:"center",borderRadius:10,backgroundColor:g.error?"rgba(232, 39, 39, 0.5)":"#4BB543",align:"center",color:"white",transition:"opacity 0.5s ease-in-out",children:[g.message,"    "]}),Object(ne.jsxs)("form",{onSubmit:function(e){o(!0),e.preventDefault(),Object(x.f)(N,l).then((function(){o(!1),p({code:"sucess",error:!1,message:"Reset Link Sent to your email"})})).catch((function(e){o(!1),"auth/user-not-found"===e.code?p({code:e.code,error:!0,message:"Email not registered plese SignUp first "}):(console.log(e.message),console.log(e.code),p({code:e.code,error:!0,message:"unknown error try again ."}))}))},children:[Object(ne.jsxs)(Se.a,{id:"email",children:[Object(ne.jsx)(Se.b,{children:"Email address"}),Object(ne.jsx)(ke.a,{onChange:function(e){u(e.target.value),p({code:null,error:!1,message:null})},autoComplete:"username",type:"email"})]}),Object(ne.jsx)(d.f,{mt:10,children:Object(ne.jsx)(j.a,{isLoading:n,loadingText:"Checking Info...",type:"submit",bg:"blue.400",color:"white",_hover:{bg:"blue.500"},children:"Reset Password"})})]}),Object(ne.jsx)(d.f,{pt:6,children:Object(ne.jsxs)(d.g,{h:10,p:"2",align:"center",children:["Remember Password?","    ",Object(ne.jsx)(d.e,{as:i.b,to:"/auth/login",color:"blue.400",children:"Login"})]})})]})})]})})})}function _e(){var e=te().config,t=Object(l.h)(),n=Object(l.g)().search,o=new URLSearchParams(n).get("oobCode"),r=Object(c.useState)(),s=Object(a.a)(r,2),u=s[0],b=s[1],h=Object(c.useState)(),g=Object(a.a)(h,2),p=g[0],f=g[1],O=Object(c.useState)(!1),m=Object(a.a)(O,2),w=m[0],v=m[1],y=Object(c.useState)({code:null,error:!1,message:null}),C=Object(a.a)(y,2),S=C[0],k=C[1];return Object(ne.jsx)(d.b,{mt:91,minH:"100vh",align:"center",justify:"center",children:Object(ne.jsxs)(d.f,{spacing:8,mx:"auto",maxW:"lg",py:12,px:6,children:[Object(ne.jsx)(d.f,{align:"center",children:Object(ne.jsx)(d.d,{fontSize:"4xl",children:"Set New Password"})}),Object(ne.jsx)(d.a,{rounded:"lg",boxShadow:"lg",p:8,children:Object(ne.jsxs)(d.f,{spacing:4,children:[Object(ne.jsxs)(d.g,{h:10,d:"flex",opacity:S.code?1:0,p:"2",alignItems:"center",justifyContent:"center",borderRadius:10,backgroundColor:S.error?"rgba(232, 39, 39, 0.5)":"#4BB543",align:"center",color:"white",transition:"opacity 0.5s ease-in-out",children:[S.message,"    "]}),Object(ne.jsxs)("form",{onSubmit:function(e){e.preventDefault(),v(!0),u===p?Object(x.a)(N,o,u).then((function(){v(!1),t("/auth/login")})).catch((function(e){v(!1),console.log(e.code),console.log(e.message)})):(v(!1),k({code:"different-password",error:!0,message:"confirm password does not match."}))},children:[Object(ne.jsxs)(Se.a,{id:"password",children:[Object(ne.jsx)(Se.b,{children:"New Password"}),Object(ne.jsx)(ke.a,{borderColor:e.inBorder,onChange:function(e){b(e.target.value),k({code:null,error:!1,message:null})},autoComplete:"password",type:"password"})]}),Object(ne.jsxs)(Se.a,{mt:3,id:"confirm-password",children:[Object(ne.jsx)(Se.b,{children:"Confirm Password"}),Object(ne.jsx)(ke.a,{borderColor:e.inBorder,onChange:function(e){f(e.target.value),k({code:null,error:!1,message:null})},autoComplete:"password",type:"password"})]}),Object(ne.jsx)(d.f,{mt:10,children:Object(ne.jsx)(j.a,{isLoading:w,loadingText:"setting Password...",type:"submit",bg:"blue.400",color:"white",_hover:{bg:"blue.500"},children:"Set Password"})})]}),Object(ne.jsx)(d.f,{pt:6,children:Object(ne.jsxs)(d.g,{h:10,p:"2",align:"center",children:["Remember Password?","    ",Object(ne.jsx)(d.e,{as:i.b,to:"/auth/login",color:"blue.400",children:"Login"})]})})]})})]})})}var $e=function(){var e=Object(Y.c)().colorMode,t=Object(c.useState)(!1),n=Object(a.a)(t,2),o=n[0],r=n[1],s=Object(c.useState)({}),d=Object(a.a)(s,2),u=d[0],b=d[1],h=Object(Ye.b)().enqueueSnackbar;return Object(c.useEffect)((function(){document.getElementById("statusbar").content="light"===e?"#05c2c8":"#19263a"}),[e]),Object(c.useEffect)((function(){var e=function(){u&&u.postMessage({type:"SKIP_WAITING"}),r(!1),window.location.reload()};Qe({onUpdate:function(e){b(e&&e.waiting),r(!0)}});o&&h("A new version is Avalible",{persist:!0,variant:"success",action:Object(ne.jsx)(c.Fragment,{children:Object(ne.jsx)(j.a,{className:"snackbar-button",size:"small",variant:"outline",backgroundColor:"#43a047",color:"white",_hover:{backgroundColor:"#43a047",color:"white"},_active:{backgroundColor:"#43a047",color:"white"},onClick:e,children:"update"})})})}),[o,h,u]),Object(ne.jsx)(ne.Fragment,{children:Object(ne.jsx)(Q.a,{children:Object(ne.jsx)(i.a,{children:Object(ne.jsxs)(l.e,{children:[Object(ne.jsxs)(l.c,{path:"/",element:Object(ne.jsx)(ce,{}),children:[Object(ne.jsx)(l.c,{index:!0,element:Object(ne.jsx)(se,{})}),Object(ne.jsx)(l.c,{path:"features",element:Object(ne.jsx)(Te,{})}),Object(ne.jsx)(l.c,{path:"security",element:Object(ne.jsx)(Ke,{})}),Object(ne.jsx)(l.c,{path:"help-center",element:Object(ne.jsx)(Ne,{})}),Object(ne.jsxs)(l.c,{path:"auth",children:[Object(ne.jsx)(l.c,{path:"login",element:Object(ne.jsx)(qe,{})}),Object(ne.jsx)(l.c,{path:"signup",element:Object(ne.jsx)(Xe,{})}),Object(ne.jsx)(l.c,{path:"resetpswd",element:Object(ne.jsx)(Ge,{})}),Object(ne.jsx)(l.c,{path:"setnewpasswd",element:Object(ne.jsx)(_e,{})})]}),Object(ne.jsx)(l.c,{path:"*",element:Object(ne.jsx)(Ve,{})})]}),Object(ne.jsx)(l.c,{path:"/web",element:Object(ne.jsx)(De,{})})]})})})})},et=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,276)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),o(e),r(e),s(e)}))},tt=n(9),nt=n(26),ct=Object(tt.c)({sm:"0px",md:"768px",lg:"960px",xl:"1023px","2xl":"1200","3xl":"1536px"}),ot={initialColorMode:"system",useSystemColorMode:!1},rt=Object(nt.b)({breakpoints:ct,colorConfig:ot,fonts:{body:"roboto"}});s.a.render(Object(ne.jsx)(o.a.StrictMode,{children:Object(ne.jsx)(nt.a,{theme:rt,children:Object(ne.jsxs)(Ye.a,{children:[Object(ne.jsx)(Y.b,{initialColorMode:ot.initialColorMode}),Object(ne.jsx)($e,{})]})})}),document.getElementById("root")),et()}},[[247,1,2]]]);
//# sourceMappingURL=main.c5c01cf2.chunk.js.map